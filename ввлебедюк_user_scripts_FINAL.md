# Вероника Лебедюк - "DIAlog for BETter"
# Пользовательские сценарии

### Группа: 11 - И - 3
### Электронная почта: veronika.lebedyuk@gmail.com
### VK: www.vk.com/vertevniku

### [Сценарий 1 - Создание/Настройка профиля]
1. пользователь вводит общую информацию:
2. пользователь вводит имя
3. пользователь вводит электронную почту, на которую будут высылаться exсel и pdf файлы со статистикой
  4. пользователь вводит возраст
  5. пользователь вводит свои параметры (вес, рост)
6. приложение предлагает пользователю список критериев, по которым будет вестись статистика (уровень сахара в крови, артериальное давление, уровень холестерина в крови, изменение веса тела, острота зрения, физическая активность пользователя, наличие вредных привычек)
  7. пользователь выбирает один или несколько критериев критерий
  8. возле каждого критерия приложение высвечивает пояснительную подсказку с описанием каким образом будут вестись наблюдения (пр. показатель сахара в крови: *вы должны будете заносить в приложение информацию о каждом приеме пищи*; пр. давление: *вам следует ежедневно заносить информацию о вашем кровяном давлении* и т. д.)
  9. пользователь вводит данные необходимые для расчёта дозы инсулина **СДИ – суммарная суточная доза всего инсулина**(среднее арифметическое СДИ за несколько, 3-7 дней), и **тип инсулина** короткий/ультракороткий
10. Приложение предлагает пользователю ввести информацию о питание для составления плана. Запускается сценарий 8 - План питания
11. После того как пользователь завершает выбор критериев приложение знакомит пользователя с интерфейсом, расположением функций
12. Запускается сценарий 2 - Чат/общение с ботом 

### [Сценарий 2 - Чат/общение с ботом]
1.	бот отправляет приветственное сообщение с основными положениями своего функционала и желательным форматом ввода информации, предлагает возможные сокращения для определенных команд
2. Приложение оправляет сообщение с вопросом о том, что тот собирается сделать.
3. пользователь набирает нужную команду на клавиатуре
4. пользователь вводит нужные данные, используя кнопки-подсказки сверху от клавиатуры 
5. пользователь хочет занести медицинские показатели. Запускается сценарий 3 - Ввод медицинских показателей
6. пользователь хочет добавить новое событие/хочет узнать информацию о уже существующем. Запускается сценарий 5 - Календарь
7. пользователь хочет просмотреть/изменить свой план питания. Запускается сценарий 8 - План питания (начиная с пункта 3).
8. пользователь хочет ознакомиться со статистикой. Запускается сценарий 7 - Статистика
9.	при введение пользователем данных не возможных для восприятия программой (неправильный формат ввода) приложение сообщает о проблеме пользователю и просит попробовать еще раз.
10. при надобности пользователь оправляет в чат сообщение "???", ответом на которое будет повторное ознакомление с функционалом. 

### [Сценарий 3 - Ввод медицинских показателей]
1. 	пользователь оправляет в чат сообщение со словом "показатель"
2.	пользователь отправляет сообщение с критерием, по которому собирается занести показания
3.	в зависимости от критерия приложение просит ввести данные
4. пользователь вводит число-показатель
5.	приложение отправляет пользователю сообщение с кратким анализом введенных показателей (выше/ниже нормы)
6.	если показатели сильно разнятся с нормой приложение предлагает пользователю назначить визит к врачу. Запускается Сценарий 5 - Календарь
7.	если пользователь сделал ошибку во вводе данных он отправляет сообщение со словом "изменить" и Сценарий 3 - Ввод медицинских показателей запускается снова

8. с учетом введенных данных приложение дополняет базы данных по выбранному критерию для расчета статистики.

9. приложение оправляет сообщение с вопросом о намерение пользователя закончить ввод мед. показателей или ввести данные по новому критерию. При выборе второго варианта Сценарий 3 - Ввод медицинских показателей запускается снова.

### [Сценарий 4 - расчет дозы инсулина]
1. 	пользователь оправляет в чат сообщение со словом "расчет"
2.	пользователь отправляет в чат сообщение о продукте/блюде(наименование, размер порции)
3. 	(опционально)пользователь отправляет в чат сообщение с текущем показателем сахара в крови (АГ - актуальная гликемия)
4.	если в базе данных отсутствует информация о пищевой ценности данного продукта приложение просит пользователя ввести информацию вручную
5. приложение добавляет блюдо в базу данных.
6. 	если пользователь не вводил показатель сахара в крови приложение учитывает его как нормальный для его параметров
7.	приложение высчитывает нужную дозировку по формуле **(АГ - ЦГ)/ФЧИ**, где ЦГ - целевая гликемия(высчитывается индивидуально); ФЧИ - фактор чувствительности к инсулину(100 : СДИ = Х ммоль/л для ультракоротких инсулинов и 83 : СДИ = Х ммоль/л для инсулинов короткого действия)
8. приложение добавляет информацию о приеме пищи в базу данных для расчета статистики. 
9. приложение оправляет пользователю сообщение с рассчитанной дозировкой.

### [Сценарий 5 - Календарь]
1.	пользователь оправляет в чат сообщение со словом "календарь"
2.	приложение открывает окно со встроенным календарем
3.	На календаре даты с намеченными событиями выделяются зеленым цветом
4.	пользователь нажимает на выделенную дату
5.	приложение показывает одно или несколько событий, запланированных на эту дату и комментарии к ним; или спрашивает пользователя о желании удалить событие
6.	если комментарий существующему событию отсутствует приложение предлагает добавить комментарий
7.	если пользователь выбирает невыделенную дату приложение предлагает ему создать событие, выбрав 
8.	после создания события пользователю предлагается выбрать частоту отправки уведомлений о нем. Запускается сценарий 6 - Напоминания/уведомления.

### [Сценарий 6 - Напоминания/уведомления]
1.	приложение отправляет сообщение о том, что через день/неделю/месяц/год произойдёт какое-то событие
2. если пользователь больше не хочет получать сообщения по этому поводу, он может остановить их отправку как на определенный период времени, так и навсегда, нажав на знак креста в углу сообщения с напоминанием.
3.	если пользователь хочет знать больше информации, то при отправке в чат сообщения "больше" приложение откроет окно с календарем - Запускается сценарий 3 - Календарь
4.	приложение оправляет напоминание о приёме пищи, ответом на которое ожидается сообщение о продуктах/блюдах, съеденных пользователем. Запускается сценарий - Расчет дозы инсулина
5. если ответа от пользователя нет в течение более 30 минут приложение повторно отправляет уведомление
6. напоминания без ответа помечаются
7. по окончании даты с назначенным событием приложение прекращает рассылку

### [Сценарий 7 - Статистика]
1.	пользователь оправляет в чат сообщение со словом "статистика"
2.	в появившемся окне, приложение уточняет промежуток времени и критерии, по которым пользователь желает провести статистику
3.	если пользователь ввел даты, в которые получение информации невозможно, приложение сообщает об ошибке и заново открывает окно ввода
4. получив корректную информацию приложение строит графики изменения медицинских показателей пользователя в указанный период.
5. приложение высылает в чат изображения - визуализированную статистику (графики изменения медицинских показателей с течение времени).
6.	приложение предлагает пользователю получить информацию как в виде таблиц excel, так и pdf версии представленных выше схем.
7.	при утвердительном ответе приложение высылает письмо с exсel и pdf файлами статистики на электронную почту пользователя
8.	приложение дает оценку прогресса пользователя по запрашиваемой статистике и с ее учетом предлагает скорректировать план питания. Запускается сценарий 8 - План питания

### [Сценарий 8 - План питания]
1.	при первом входе в приложение или после запроса статистики оно запрашивает/предлагает изменить дополнительную информацию о питании пользователя
2.	на основе введенных пользователем данных, меняет базовый рацион в плане питания пользователя
3. 	приложение предлагает ознакомиться с составленным рационом.
4.	пользователь может вручную менять пункты плана, после чего приложение ищет введенный продукт в своей базе, чтобы учти его пищевую ценность.
5.	если сведения о продукте отсутствуют, приложение предлагает пользователю ввести нужные значения (пищевую ценность).
6. 	информация добавляется в базу данных продуктов.
7.	если пищевая ценность введенного продукта значительно разнится с нормой, приложение сообщает об этом и предлагает варианты замены.
	

